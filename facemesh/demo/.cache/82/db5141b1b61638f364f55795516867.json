{"id":"node_modules/@tensorflow-models/facemesh/dist/box.js","dependencies":[{"name":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/node_modules/@tensorflow-models/facemesh/dist/box.js.map","includedInParent":true,"mtime":1585936822797},{"name":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/package.json","includedInParent":true,"mtime":1585936734129},{"name":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/.babelrc","includedInParent":true,"mtime":1585323846000},{"name":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/node_modules/@tensorflow-models/facemesh/package.json","includedInParent":true,"mtime":1585936822801},{"name":"@tensorflow/tfjs-core","loc":{"line":3,"column":19},"parent":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/node_modules/@tensorflow-models/facemesh/dist/box.js","resolved":"/Users/khushibhansali/Documents/SmartMirror/facemesh/demo/node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tf = require(\"@tensorflow/tfjs-core\");\nfunction disposeBox(box) {\n    if (box != null && box.startPoint != null) {\n        box.startEndTensor.dispose();\n        box.startPoint.dispose();\n        box.endPoint.dispose();\n    }\n}\nexports.disposeBox = disposeBox;\nfunction createBox(startEndTensor, startPoint, endPoint) {\n    return {\n        startEndTensor,\n        startPoint: startPoint != null ? startPoint :\n            tf.slice(startEndTensor, [0, 0], [-1, 2]),\n        endPoint: endPoint != null ? endPoint :\n            tf.slice(startEndTensor, [0, 2], [-1, 2])\n    };\n}\nexports.createBox = createBox;\nfunction scaleBoxCoordinates(box, factor) {\n    const newStart = tf.mul(box.startPoint, factor);\n    const newEnd = tf.mul(box.endPoint, factor);\n    return createBox(tf.concat2d([newStart, newEnd], 1));\n}\nexports.scaleBoxCoordinates = scaleBoxCoordinates;\nfunction getBoxSize(box) {\n    return tf.tidy(() => {\n        const diff = tf.sub(box.endPoint, box.startPoint);\n        return tf.abs(diff);\n    });\n}\nexports.getBoxSize = getBoxSize;\nfunction getBoxCenter(box) {\n    return tf.tidy(() => {\n        const halfSize = tf.div(tf.sub(box.endPoint, box.startPoint), 2);\n        return tf.add(box.startPoint, halfSize);\n    });\n}\nexports.getBoxCenter = getBoxCenter;\nfunction cutBoxFromImageAndResize(box, image, cropSize) {\n    const height = image.shape[1];\n    const width = image.shape[2];\n    const xyxy = box.startEndTensor;\n    return tf.tidy(() => {\n        const yxyx = tf.concat2d([\n            xyxy.slice([0, 1], [-1, 1]), xyxy.slice([0, 0], [-1, 1]),\n            xyxy.slice([0, 3], [-1, 1]), xyxy.slice([0, 2], [-1, 1])\n        ], 0);\n        const roundedCoords = tf.div(yxyx.transpose(), [height, width, height, width]);\n        return tf.image.cropAndResize(image, roundedCoords, [0], cropSize);\n    });\n}\nexports.cutBoxFromImageAndResize = cutBoxFromImageAndResize;\nfunction enlargeBox(box, factor = 1.5) {\n    return tf.tidy(() => {\n        const center = getBoxCenter(box);\n        const size = getBoxSize(box);\n        const newSize = tf.mul(tf.div(size, 2), factor);\n        const newStart = tf.sub(center, newSize);\n        const newEnd = tf.add(center, newSize);\n        return createBox(tf.concat2d([newStart, newEnd], 1), newStart, newEnd);\n    });\n}\nexports.enlargeBox = enlargeBox;\n","map":{"version":3,"file":"box.js","sourceRoot":"","sources":["../src/box.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"hash":"ddd52df630d5e0fdb186c1b83320db64","cacheData":{"env":{}}}